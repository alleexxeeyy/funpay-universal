# FunPay Universal
–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è FunPay ü§ñüü¶

## üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏—è:
- [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞](#%EF%B8%8F-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏](#-–ø–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏)
- [–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](#-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

## ‚ö° –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –£–¥–æ–±–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ üó®Ô∏è
- –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–πüîå
- –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
  - –í–µ—á–Ω—ã–π –æ–Ω–ª–∞–π–Ω –Ω–∞ —Å–∞–π—Ç–µ
  - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–∞
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã
  - –ö–æ–º–∞–Ω–¥–∞ `!–ø—Ä–æ–¥–∞–≤–µ—Ü` –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ (—É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–∞—Å –≤ Telegram –±–æ—Ç–µ, —á—Ç–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—é —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∞—à–∞ –ø–æ–º–æ—â—å

## ‚¨áÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é Release –≤–µ—Ä—Å–∏—é –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ –ª—é–±–æ–µ —É–¥–æ–±–Ω–æ–µ –¥–ª—è –≤–∞—Å –º–µ—Å—Ç–æ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Python –≤–µ—Ä—Å–∏–∏ 3.x.x - 3.12**. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å–¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ, –ø–µ—Ä–µ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ https://www.python.org/downloads (–ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—É–Ω–∫—Ç `Add to PATH`)
3. –û—Ç–∫—Ä–æ–π—Ç–µ `install_requirements.bat` –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫, –∞ –ø–æ—Å–ª–µ –∑–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ
4. –ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç–æ—Ä `start.bat`
5. –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤–∞—Å –ø–æ–ø—Ä—Å—è—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã

## üìö –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–º–æ–≥–∞–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –≤ –±–æ—Ç–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, —Å–¥–µ–ª–∞–Ω–Ω—ã–π —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–∞–º–∏. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ –∂–µ, —á—Ç–æ –∏ –ø–ª–∞–≥–∏–Ω—ã, –Ω–æ –≤ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

<details>
  <summary><strong>üìå –û—Å–Ω–æ–≤–Ω—ã–µ –∏–≤–µ–Ω—Ç—ã</strong></summary>

  ### –ò–≤–µ–Ω—Ç—ã –±–æ—Ç–∞ (BOT_EVENT_HANDLERS)

  –ò–≤–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –¥–µ–π—Å—Ç–≤–∏–∏ –±–æ—Ç–∞.

  | –ò–≤–µ–Ω—Ç | –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è | –ü–µ—Ä–µ–¥–∞—é—â–∏–µ—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç—ã |
  |-------|------------------|------------------------|
  | `ON_MODULE_CONNECTED` | –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –º–æ–¥—É–ª—è | `Module` |
  | `ON_INIT` | –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞ | `-` |
  | `ON_FUNPAY_BOT_INIT` | –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–∑–∞–ø—É—Å–∫–µ) FunPay –±–æ—Ç–∞ | `FunPayBot` |
  | `ON_TELEGRAM_BOT_INIT` | –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–∑–∞–ø—É—Å–∫–µ) Telegram –±–æ—Ç–∞ | `TelegramBot` |

  ### –ò–≤–µ–Ω—Ç—ã FunPay (FUNPAY_EVENT_HANDLERS)

  –ò–≤–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–≤–µ–Ω—Ç–∞ –≤ —Ä–∞–Ω–Ω–µ—Ä–µ FunPay –±–æ—Ç–∞.

  | –ò–≤–µ–Ω—Ç | –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è | –ü–µ—Ä–µ–¥–∞—é—â–∏–µ—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç—ã |
  |-------|------------------|------------------------|
  | `EventTypes.CHATS_LIST_CHANGED` | –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏/–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ/–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Ç–æ–≤ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å | `FunPayBot`, `ChatsListChangedEvent` |
  | `EventTypes.INITIAL_CHAT` | –û–±–Ω–∞—Ä—É–∂–µ–Ω —á–∞—Ç (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ Runner'–∞) | `FunPayBot`, `InitialChatEvent` |
  | `EventTypes.INITIAL_ORDER` | –û–±–Ω–∞—Ä—É–∂–µ–Ω –∑–∞–∫–∞–∑ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ Runner'–∞) | `FunPayBot`, `InitialOrderEvent` |
  | `EventTypes.LAST_CHAT_MESSAGE_CHANGED` | –í —á–∞—Ç–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. | `FunPayBot`, `LastChatMessageChangedEvent` |
  | `EventTypes.NEW_MESSAGE` | –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ | `FunPayBot`, `NewMessageEvent` |
  | `EventTypes.NEW_ORDER` | –û–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ | `FunPayBot`, `NewOrderEvent` |
  | `EventTypes.ORDER_STATUS_CHANGED` | –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è | `FunPayBot`, `OrderStatusChangedEvent` |
  | `EventTypes.ORDERS_LIST_CHANGED` | –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∏/–∏–ª–∏ —Å—Ç–∞—Ç—É—Å –æ–¥–Ω–æ–≥–æ/–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–∫–∞–∑–æ–≤ –∏–∑–º–µ–Ω–∏–ª—Å—è | `FunPayBot`, `OrdersListChangedEvent` |

</details>

<details>
  <summary><strong>üìÅ –°—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥—É–ª—è</strong></summary>  
  <br/>–ú–æ–¥—É–ª—å - —ç—Ç–æ –ø–∞–ø–∫–∞, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í—ã –º–æ–∂–µ—Ç–µ –∏–∑—É—á–∏—Ç—å —Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥—É–ª—è, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ [—à–∞–±–ª–æ–Ω–Ω—ã–π –º–æ–¥—É–ª—å](templates/test_module), –Ω–æ —Å—Ç–æ–∏—Ç –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –ª–∏—à—å –ø—Ä–∏–º–µ—Ä, —Å–¥–µ–ª–∞–Ω–Ω—ã–π –Ω–∞–º–∏.
  
  –°—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥—É–ª—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –ª—é–±—ã–º –Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ, –Ω–æ –≤—Å—ë –∂–µ –≤ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ **`__init__.py`**, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–¥–∞—é—Ç—Å—è –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π
  —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è.

  –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤:
  | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
  |-----------|-----|----------|
  | `BOT_EVENT_HANDLERS` | `dict[str, list[Any]]` | –í —ç—Ç–æ–º —Å–ª–æ–≤–∞—Ä–µ –∑–∞–¥–∞—é—Ç—Å—è —Ö–µ–Ω–¥–ª–µ—Ä—ã –∏–≤–µ–Ω—Ç–æ–≤ –±–æ—Ç–∞ |
  | `FUNPAY_EVENT_HANDLERS` | `dict[EventTypes, list[Any]` | –í —ç—Ç–æ–º —Å–ª–æ–≤–∞—Ä–µ –∑–∞–¥–∞—é—Ç—Å—è —Ö–µ–Ω–¥–ª–µ—Ä—ã –∏–≤–µ–Ω—Ç–æ–≤ FunPay |
  | `TELEGRAM_BOT_ROUTERS` | list[Router] | –í —ç—Ç–æ–º –º–∞—Å—Å–∏–≤–µ –∑–∞–¥–∞—é—Ç—Å—è —Ä–æ—É—Ç–µ—Ä—ã –º–æ–¥—É–ª—å–Ω–æ–≥–æ Telegram –±–æ—Ç–∞  |

  –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:
  | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
  |-----------|-----|----------|
  | `PREFIX` | `str` | –ü—Ä–µ—Ñ–∏–∫—Å |
  | `VERSION` | `str` | –í–µ—Ä—Å–∏—è |
  | `NAME` | `str` | –ù–∞–∑–≤–∞–Ω–∏–µ |
  | `DESCRIPTION` | `str` | –û–ø–∏—Å–∞–Ω–∏–µ |
  | `AUTHORS` | `str` | –ê–≤—Ç–æ—Ä—ã |
  | `LINKS` | `str` | –°—Å—ã–ª–∫–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤ |

  #### üîß –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:
  –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `meta.py`, –Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ `__init__.py`.  
  –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º–ø–æ—Ä—Ç–∞ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–π —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –º–æ–¥—É–ª—è.

  `meta.py`:
  ```python
  from colorama import Fore, Style

  PREFIX = f"{Fore.LIGHTCYAN_EX}[test module]{Fore.WHITE}"
  VERSION = "0.1"
  NAME = "test_module"
  DESCRIPTION = "–¢–µ—Å—Ç–æ–≤—ã–π –º–æ–¥—É–ª—å. /test_module –≤ Telegram –±–æ—Ç–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
  AUTHORS = "@alleexxeeyy"
  LINKS = "https://t.me/alleexxeeyy, https://t.me/alexeyproduction"
  ```

  `__init__.py`:
  ```python
  from .fpbot.funpaybot_handlers import FunPayBotHandlers
  from .tgbot.telegrambot_handlers import TelegramBotHandlers
  from .tgbot import router
  from .meta import *
  from FunPayAPI.updater.events import EventTypes
  from core.modules_manager import disable_module, Module
  
  _module: Module = None
  def get_module(module: Module):
      global _module
      _module = module
  
  def handler_on_init():
      try:
          # ...
          print(f"{PREFIX} –ú–æ–¥—É–ª—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω")
      except:
          disable_module(_module.uuid)
  
  BOT_EVENT_HANDLERS = {
      "ON_MODULE_CONNECTED": [handle_on_module_connected],
      "ON_INIT": [handler_on_init],
      "ON_FUNPAY_BOT_INIT": [FunPayBotHandlers.handler_on_funpay_bot_init],
      "ON_TELEGRAM_BOT_INIT": [TelegramBotHandlers.handler_on_telegram_bot_init]
  }
  FUNPAY_EVENT_HANDLERS = {
      EventTypes.NEW_MESSAGE: [FunPayBotHandlers.handler_new_message],
      EventTypes.NEW_ORDER: [FunPayBotHandlers.handler_new_order]
  }
  TELEGRAM_BOT_ROUTERS = [router]
  ```

  –®–∞–±–ª–æ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](templates/...)

</details>


## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: https://github.com/alleexxeeyy (–≤ –ø—Ä–æ—Ñ–∏–ª–µ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏)
- Telegram –∫–∞–Ω–∞–ª: https://t.me/alexeyproduction
- Telegram –±–æ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π: https://t.me/alexey_production_bot
